name: main_agent
version: 1.0.0
description: 有声绘本制作系统

agent:
  name: picture_book_agent
  version: 1.0.0
  type: main_agent
  
  system_prompt:
    path: ../prompts/zh/main_agent.yaml
  
  storage:
    type: local
    path: ./outputs
  
  llm:
    model: qwen-plus
    temperature: 0.7
    max_tokens: 2048
  
  # 调试配置
  debug:
    log_llm_calls: true      # 是否在控制台打印LLM调用
    save_llm_calls: true     # 是否保存LLM调用到文件

# MCP服务配置
mcp_services:
  t2i:
    enable: true
    type: t2i_mcp
    name: generate_image
    description: 生成绘本图片
    config_path: ./mcp/t2i_config.yaml
  
  tts:
    enable: true
    type: tts_mcp
    name: synthesize_speech
    description: 合成语音
    config_path: ./mcp/tts_config.yaml

# SubAgent配置
sub_agents:
  prompt_generator:
    enable: true
    name: prompt_generator
    description: 根据前提变量生成文生图提示词
    config_path: ./sub_agents/prompt_gen.yaml
  
  script_generator:
    enable: true
    name: script_generator
    description: 根据图片提示词和前提变量生成适配年龄的台词
    config_path: ./sub_agents/script_gen.yaml

# 工作流配置
workflow:
  steps:
    - id: 1
      name: 解析用户输入
      tool: parse_premise
      required: true
    
    - id: 2
      name: 生成文生图提示词
      subagent: prompt_generator
      required: true
    
    - id: 3
      name: 生成绘本图片
      tool: generate_image
      required: true
    
    - id: 4
      name: 生成台词
      subagent: script_generator
      required: true
    
    - id: 5
      name: 生成语音
      tool: synthesize_speech
      required: true
    
    - id: 6
      name: 整合结果并返回
      type: final
      required: true

# UI配置
ui:
  welcome:
    title: 欢迎使用儿童科普绘本生成助手
    subtitle: 我可以帮您为不同年龄段的儿童生成包含图片和语音的百科类科普绘本
    
    instructions:
      title: 请告诉我
      items:
        - 对象：想要了解的事物（如：老虎、挖掘机、向日葵）
        - 年龄：目标儿童的年龄段（如：2岁、5岁、8岁）
        - 风格：绘画风格（可选，如：卡通、手绘、写实）
    
    footer: 或者直接点击下方的快捷选项开始！
    
  quick_options:
    - label: 2岁宝宝看的老虎
      description: 适合低幼儿童的卡通风格
      prompt: 给2岁宝宝生成老虎的绘本
    
    - label: 5岁孩子的挖掘机
      description: 工程机械科普
      prompt: 给5岁孩子生成挖掘机的科普图
    
    - label: 3岁宝宝的恐龙
      description: 史前生物探索
      prompt: 3岁宝宝看的霸王龙
    
    - label: 7岁孩子的太阳系
      description: 天文知识启蒙
      prompt: 给7岁孩子生成太阳系的科普图
    
    - label: 4岁孩子的向日葵
      description: 植物生长过程
      prompt: 4岁孩子看的向日葵
    
    - label: 6岁孩子的消防车
      description: 特种车辆认知
      prompt: 给6岁孩子生成消防车的绘本
